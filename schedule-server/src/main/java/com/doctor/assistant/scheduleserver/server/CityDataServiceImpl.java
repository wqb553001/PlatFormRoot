package com.doctor.assistant.scheduleserver.server;import com.doctor.assistant.scheduleserver.entity.City;import com.doctor.assistant.scheduleserver.entity.CityList;import com.doctor.assistant.scheduleserver.entity.CityLists;import com.doctor.assistant.scheduleserver.utils.XmlBuilder;import org.springframework.core.io.ClassPathResource;import org.springframework.stereotype.Service;import java.io.BufferedReader;import java.io.InputStreamReader;import java.lang.reflect.Array;import java.nio.charset.StandardCharsets;import java.util.HashMap;import java.util.List;import java.util.Map;@Servicepublic class CityDataServiceImpl implements CityDataService {    @Override    public List<City> listCity() throws Exception {        //读取xml文件        ClassPathResource resource = new ClassPathResource("citylist.xml");        BufferedReader br = new BufferedReader(new InputStreamReader(resource.getInputStream(), StandardCharsets.UTF_8));        StringBuilder builder = new StringBuilder();        String line;        while ((line = br.readLine()) != null) {            builder.append(line);        }        br.close();        //xml转为java对象        CityList cityList = (CityList) XmlBuilder.xmlStrToObject(CityList.class, builder.toString());        return cityList.getCityList();    }    @Override    public List<City>[] listCitys() throws Exception {        //读取xml文件        ClassPathResource resource = new ClassPathResource("citylist.xml");        BufferedReader br = new BufferedReader(new InputStreamReader(resource.getInputStream(), StandardCharsets.UTF_8));        StringBuilder builder = new StringBuilder();        String line;        while ((line = br.readLine()) != null) {            builder.append(line);        }        br.close();        //xml转为java对象        CityLists cityLists = (CityLists) XmlBuilder.xmlStrToObject(List.class, builder.toString());        return cityLists.getCityLists();    }}