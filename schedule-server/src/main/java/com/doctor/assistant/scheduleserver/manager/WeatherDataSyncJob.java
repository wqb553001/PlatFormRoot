package com.doctor.assistant.scheduleserver.manager;import com.doctor.assistant.scheduleserver.entity.City;import com.doctor.assistant.scheduleserver.server.CityDataService;import com.doctor.assistant.scheduleserver.server.WeatherDataService;import org.quartz.JobExecutionContext;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.scheduling.quartz.QuartzJobBean;import org.springframework.util.CollectionUtils;import java.util.*;public class WeatherDataSyncJob extends QuartzJobBean {    private final static Logger logger= LoggerFactory.getLogger(WeatherDataSyncJob.class);    @Autowired    private CityDataService cityDataService;    @Autowired    private WeatherDataService weatherDataService;    @Override    public void executeInternal(JobExecutionContext jobExecutionContext) {//执行的动作        logger.info("Weather data Sync Job start");        //获取城市ID列表        List<City> cityList = Collections.EMPTY_LIST;        try {            cityList = cityDataService.listCity();        } catch (Exception e) {            logger.error("Exception", e);        }        //遍历城市ID获取天气        for(City city : cityList){            String cityId=city.getCityId();            logger.info("Weather Data sync job ,cityId:{}",cityId);            weatherDataService.syncDataByCityId(cityId);        }        logger.info("Weather data Sync Job end");    }}